window.__require=function t(e,o,i){function n(a,c){if(!o[a]){if(!e[a]){var s=a.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+a+"'")}}var p=o[a]={exports:{}};e[a][0].call(p.exports,function(t){return n(e[a][1][t]||t)},p,p.exports,t,e,o,i)}return o[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<i.length;a++)n(i[a]);return n}({AI:[function(t,e,o){"use strict";cc._RF.push(e,"29ea3M2t45DOp3Ri7qeHuR3","AI");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Common/Toolkit"),a=t("../Common/Watcher"),c=t("./Move"),s=t("./Splixio"),l=cc._decorator,p=l.ccclass,d=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tm=0,e.dur=1,e.goHomeWeight=0,e}return i(e,t),e.prototype.onLoad=function(){this.move=this.node.getComponent(c.default),this.splix=this.node.getComponent(s.default),a.default.addEventListener(a.HexsnakeEvent.SortRank,this,this.resetWeight)},e.prototype.resetWeight=function(t){t===this.splix&&(this.goHomeWeight=0)},e.prototype.update=function(t){if(this.tm+=t,this.tm>=this.dur){if(this.tm=0,this.dur=r.Toolkit.RandomFloat(3,.3),++this.goHomeWeight,(Math.random()+.1)*this.goHomeWeight<.44)this.move.dir.x=r.Toolkit.RandomFloat(-1,1),this.move.dir.y=r.Toolkit.RandomFloat(-1,1);else{var e=this.getHomeDir().subSelf(this.node.position);this.move.dir=e}this.move.dir.normalizeSelf()}},e.prototype.getHomeDir=function(){var t=this.splix.realFullNode[r.Toolkit.RandomInt(0,this.splix.realFullNode.length)]||this.splix.preFullNode[0];return t&&t.node.position||cc.v2()},e=n([p],e)}(cc.Component));o.default=d,cc._RF.pop()},{"../Common/Toolkit":"Toolkit","../Common/Watcher":"Watcher","./Move":"Move","./Splixio":"Splixio"}],AvatarContrl:[function(t,e,o){"use strict";cc._RF.push(e,"6b703dj77dNx5Y2P1WdD6Ti","AvatarContrl");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Common/CCUtils"),a=t("../Common/DefineData"),c=t("../Common/Toolkit"),s=t("../Common/Watcher"),l=t("./GameController"),p=t("./MapCreator"),d=t("./Splixio"),h=cc._decorator,u=h.ccclass,f=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nickPref=null,e.nickItemPool=[],e.dis=0,e.player=null,e.rankItemPrefab=[],e.diademas=[],e.tailStage=null,e.actors=[],e.actorIndexs=[1,2,3,4,5,6],e.posArr=[cc.v2(-2e3,4e3/3*2-2e3),cc.v2(4e3/3*1-2e3,4e3/3*2-2e3),cc.v2(4e3/3*2-2e3,4e3/3*2-2e3),cc.v2(-2e3,4e3/3*1-2e3),cc.v2(4e3/3*1-2e3,4e3/3*1-2e3),cc.v2(4e3/3*2-2e3,4e3/3*1-2e3),cc.v2(-2e3,-2e3),cc.v2(4e3/3*1-2e3,-2e3),cc.v2(4e3/3*2-2e3,-2e3)],e.playerMaxArea=0,e}return i(e,t),e.prototype.spawnAI=function(){if(!(this.actors.length>=7)){var t=cc.instantiate(this.aiPrefab);this.node.addChild(t),t.position=this.findPos();var e=t.getComponent(d.default);e.flag=this.actorIndexs.pop(),e.nickNode=this.createNickItem(),this.createRankItem(e,this.actors.length),this.readConfig(e),this.actors.push(e)}},e.prototype.findPos=function(){var t=[];t.push.apply(t,this.actors);for(var e=0;e<9;e++){for(var o=!0,i=0;i<t.length;i++)if(r.CCUtils.distance(this.posArr[e],t[i].node.position)<667){t[i]=t.pop(),o=!1;break}if(o)return this.posArr[e].clone()}return this.posArr[0]},e.prototype.onLoad=function(){this.playerMaxArea=parseFloat(c.Toolkit.getCookie("Hexsnake_max")||"0"),this.refreshArea(0),this.maxRecord.string="High Scores: "+(100*this.playerMaxArea).toFixed(2)+"%",s.default.addEventListener(s.HexsnakeEvent.SortRank,this,this.sortRank),s.default.addEventListener(s.HexsnakeEvent.Death,this,this.onSnakeDeath),s.default.addEventListener(s.HexsnakeEvent.FirstInteraction,this,this.FirstInteraction),cc.game.on(cc.game.EVENT_HIDE,this.save,this)},e.prototype.FirstInteraction=function(){for(var t=1;t<this.actors.length;t++)this.actors[t].node.active=!0;this.schedule(this.spawnAI,1.167,4,2)},e.prototype.onDestroy=function(){this.save()},e.prototype.refreshArea=function(t){this.areaTxt.string=(100*t).toFixed(2)+"%",this.areaSliderBar.progress=Math.min(1,1*t/this.playerMaxArea),this.playerMaxArea=Math.max(this.playerMaxArea,t),this.maxRecord.string="High Scores: "+(100*this.playerMaxArea).toFixed(2)+"%"},e.prototype.save=function(){c.Toolkit.setCookie("Hexsnake_max",Math.max(this.playerMaxArea,this.player.rankItem.progress))},e.prototype.start=function(){var t=this;if(0==this.dis){var e=cc.director.getWinSizeInPixels();console.log(e),this.dis=Math.max(e.width,e.height)}this.player.nickNode=this.createNickItem(),this.createRankItem(this.player),this.readConfig(this.player),this.actors.push(this.player);for(var o=0;o<2;o++)this.spawnAI();for(var i=0,n=this.actors;i<n.length;i++){n[i].node.active=!1}s.default.addEventListener(s.HexsnakeEvent.PathGridLoaded,this,function(){t.actors[0].node.active=!0})},e.prototype.readConfig=function(t){var e=l.default.instance.actorConfig[t.flag];t.tail=cc.instantiate(e.tailPrefab),t.tailVfx=t.tail.getComponent(cc.MotionStreak),t.tailVfx.color=e.tailColor,t.gridIcon=e.grid,t.node.getChildByName("head").getComponent(cc.Sprite).spriteFrame=e.avatar,this.tailStage.addChild(t.tail,void 0,this.node.name+"_tail")},e.prototype.createRankItem=function(t,e){void 0===e&&(e=0);var o=new d.RankItem;t.rankItem=o,o.node=cc.instantiate(this.rankItemPrefab[t.flag]),o.name=r.CCUtils.FindChildComponentHelper(o.node,"name",cc.Label),e<3&&this.rankItemStage.addChild(o.node),o.node.zIndex=e,o.name.string=t.nickNode.name,o.size=r.CCUtils.FindChildComponentHelper(o.node,"size",cc.Label),o.rank(e),o.setSize(0)},e.prototype.createNickItem=function(){var t=this.randomNick(),e=cc.instantiate(this.nickPref);return this.node.addChild(e),e.getComponentInChildren(cc.Label).string=t,e.name=t,this.nickItemPool.push(e),e},e.prototype.onSnakeDeath=function(t,e){t.isPlayer?this.save():(t.node.position=this.findPos(),t.node.active=!0),this.sortRank(t)},e.prototype.sortRank=function(t){for(var e=null,o=0,i=this.actors.length-1,n=0,r=this.actors.length;n<r;n++){for(var a=!0,c=0;c<i;c++)this.actors[c].realFullNode.length<this.actors[c+1].realFullNode.length&&(e=this.actors[c],this.actors[c]=this.actors[c+1],this.actors[c+1]=e,a=!1,o=c);if(i=o,a)break}for(n=0;n<this.actors.length;n++){var s=this.actors[n].rankItem,l=this.actors[n].realFullNode.length/p.pathItem.sumPathNodeNum;n<3?(s.node.parent||(s.node.parent=this.rankItemStage),s.setSize(l),s.rank(n),s.node.getNumberOfRunningActions()>0&&s.node.stopAllActions(),cc.tween(s.node).to(.4,{width:384-50*n},cc.easeCircleActionOut()).start(),s.node.zIndex=n):s.node.parent&&(s.progress=l,s.node.removeFromParent())}t.isPlayer&&this.refreshArea(t.rankItem.progress)},e.prototype.randomNick=function(){var t=c.Toolkit.RandomInt(a.nameTemplateArray.length),e=a.nameTemplateArray[t];return a.nameTemplateArray[t]=a.nameTemplateArray.pop(),e},e.prototype.update=function(t){for(var e=0;e<this.actors.length;e++)this.actors[e].nickNode.active=r.CCUtils.distance(this.actors[e].nickNode.position,this.observer.position)<this.dis,this.actors[e].nickNode.x=this.actors[e].node.x,this.actors[e].nickNode.y=this.actors[e].node.y;for(e=0;e<3;e++)this.diademas[e].active=r.CCUtils.distance(this.actors[e].nickNode.position,this.observer.position)<this.dis,this.diademas[e].x=this.actors[e].node.x,this.diademas[e].y=this.actors[e].node.y+44},n([f({type:cc.Prefab,tooltip:"\u6635\u79f0\u6587\u672c"})],e.prototype,"nickPref",void 0),n([f(cc.Node)],e.prototype,"observer",void 0),n([f({displayName:"\u663e\u793anick\u7684\u6700\u8fd1\u8ddd\u79bb, \u9ed8\u8ba4\u8fdb\u5165\u5c4f\u5e55\u5185\u5f00\u59cb\u663e\u793a"})],e.prototype,"dis",void 0),n([f({type:d.default})],e.prototype,"player",void 0),n([f(cc.Prefab)],e.prototype,"aiPrefab",void 0),n([f(cc.Node)],e.prototype,"rankItemStage",void 0),n([f({type:[cc.Prefab]})],e.prototype,"rankItemPrefab",void 0),n([f({type:[cc.Node]})],e.prototype,"diademas",void 0),n([f(cc.ProgressBar)],e.prototype,"areaSliderBar",void 0),n([f(cc.Label)],e.prototype,"areaTxt",void 0),n([f(cc.Label)],e.prototype,"maxRecord",void 0),n([f(cc.Node)],e.prototype,"tailStage",void 0),e=n([u],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../Common/CCUtils":"CCUtils","../Common/DefineData":"DefineData","../Common/Toolkit":"Toolkit","../Common/Watcher":"Watcher","./GameController":"GameController","./MapCreator":"MapCreator","./Splixio":"Splixio"}],CCUtils:[function(t,e,o){"use strict";cc._RF.push(e,"dd765gYL5FADovL6pDMstJ3","CCUtils"),Object.defineProperty(o,"__esModule",{value:!0});t("./Toolkit");(function(t){function e(t,o){if(t.name==o)return t;if(0==t.childrenCount)return null;for(var i=null,n=0,r=t.children;n<r.length;n++){if(null!=(i=e(r[n],o)))break}return i}var o;t.FindChildHelper=e,t.FindChildComponentHelper=function(t,o,i){var n=i,r=e(t,o);if(null!=r)return r.getComponent(n)},t.setItem=function(t,e){if(null!=t&&null!=e){var o=JSON.stringify(e);o&&cc.sys.localStorage.setItem(t,o)}},t.getItem=function(t){var e=cc.sys.localStorage.getItem(t);return e?JSON.parse(e):null},t.readLocalData=function(t,e){cc.loader.loadRes(t,function(t,o){if(t)return console.error(t),void e.fail();null!=o?e.success(o.json):e.fail()})},t.Conversion2LocalPosition=function(t,e){var o=t.convertToWorldSpaceAR(cc.Vec2.ZERO);return(e.parent||e).convertToNodeSpaceAR(o)},t.base64ToSpriteFrame=function(t,e){void 0===e&&(e="jpeg");var o="data:image/"+e+";base64,"+t,i=new Image;i.src=o;var n=new cc.Texture2D;return n.initWithElement(i),n.handleLoadedTexture(),new cc.SpriteFrame(n)},t.SetDefaultMaterialValue=function(t,e,o,i){void 0===i&&(i=0);var n=t.getMaterial(i);n.setProperty(e,o),t.setMaterial(i,n)},function(t){t.url="url",t.default="default",t.auto="auto",t.crosshair="crosshair",t.pointer="pointer",t.move="move",t.e_resize="e-resize",t.ne_resize="ne-resize",t.nw_resize="nw-resize",t.n_resize="n-resize",t.se_resize="se-resize",t.sw_resize="sw-resize",t.s_resize="s-resize",t.w_resize="w-resize",t.text="text",t.wait="wait",t.help="help"}(o=t.ECursorStyle||(t.ECursorStyle={}));var i=function(){function t(){}return t.SetCursorStyle=function(e,o){void 0===o&&(o=""),cc.game.canvas.style.cursor=e==o?"url("+o+"),auto":e,t.lastStyle=cc.game.canvas.style.cursor},Object.defineProperty(t,"enabled",{get:function(){return"none"==cc.game.canvas.style.cursor},set:function(e){cc.game.canvas.style.cursor=e?"none":t.lastStyle},enumerable:!0,configurable:!0}),t.lastStyle=o.default,t}();t.Cursor=i,t.RegistHandler=function(t,e,o,i){var n=new cc.Component.EventHandler;return n.target=t,n.component=e,n.handler=o,null!=i&&i.clickEvents.push(n),n},t.distance=function(t,e){var o=t.x-e.x,i=t.y-e.y;return Math.sqrt(o*o+i*i)}})(o.CCUtils||(o.CCUtils={})),cc._RF.pop()},{"./Toolkit":"Toolkit"}],DefineData:[function(t,e,o){"use strict";cc._RF.push(e,"4b2b1gvbxtKGrsaum8szSVX","DefineData");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,c=r.property,s=function(){function t(){this.clear()}return t.prototype.getIndexByKey=function(t){for(var e=this._list.length,o=0;o<e;o++){if(this._list[o].key==t)return o}return-1},t.prototype.add=function(t,e){var o={key:t,value:e},i=this.getIndexByKey(t);-1!=i?this._list[i]=o:this._list.push(o)},t.prototype.remove=function(t){var e=this.getIndexByKey(t);if(-1!=e){var o=this._list[e];return this._list.splice(e,1),o}return null},t.prototype.has=function(t){return-1!=this.getIndexByKey(t)},t.prototype.get=function(t){var e=this.getIndexByKey(t);return-1!=e?this._list[e].value:null},Object.defineProperty(t.prototype,"length",{get:function(){return this._list.length},enumerable:!0,configurable:!0}),t.prototype.forEachKeyValue=function(t){for(var e=this._list.length,o=0;o<e;o++){t(this._list[o])}},t.prototype.forEach=function(t){for(var e=this._list.length,o=0;o<e;o++){var i=this._list[o];t(i.key,i.value)}},t.prototype.clear=function(){this._list=[]},t}();o.HashMap=s,o.Browser_Platform_Info={userAgent:navigator.userAgent.toLowerCase(),onAndroid:Boolean(navigator.userAgent.match(/android/gi)),onIOS:Boolean(navigator.userAgent.match(/iphone|ipod/gi)),onIpad:Boolean(navigator.userAgent.match(/ipad/gi)),onWechat:Boolean(navigator.userAgent.match(/MicroMessenger/gi))};var l=function(){function t(){}return Object.defineProperty(t,"CurPlatformName",{get:function(){if(""==this.platformCache||this.platformCache.length<2){var e=void 0;e=t.onAndroid?"android":t.onIOS?"ios":t.onIpad?"ipad":t.onWechat?"wechat":"pc",this.platformCache=e}return this.platformCache},enumerable:!0,configurable:!0}),t.userAgent=navigator.userAgent.toLowerCase(),t.onAndroid=Boolean(navigator.userAgent.match(/android/gi)),t.onIOS=Boolean(navigator.userAgent.match(/iphone|ipod/gi)),t.onIpad=Boolean(navigator.userAgent.match(/ipad/gi)),t.onWechat=Boolean(navigator.userAgent.match(/MicroMessenger/gi)),t.platformCache="",t}();o.BrowerPlatform=l;var p=function(){function t(){this.min=0,this.max=0}return n([c()],t.prototype,"min",void 0),n([c()],t.prototype,"max",void 0),t=n([a("C_Clamp")],t)}();o.C_Clamp=p,function(t){t[t.Player=10]="Player",t[t.AI=11]="AI",t[t.PathNode=20]="PathNode",t[t.Wall=30]="Wall"}(o.ActorColliderTag||(o.ActorColliderTag={}));var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._initial_x=0,e._initial_y=0,e._strength_x=0,e._strength_y=0,e}var o;return i(e,t),o=e,e.create=function(t,e,i){var n=new o;return n.initWithDuration(t,e,i),n},e.prototype.initWithDuration=function(t,e,o){return cc.ActionInterval.prototype.initWithDuration.apply(this,arguments),this._strength_x=e,this._strength_y=o,!0},e.prototype.fgRangeRand=function(t,e){return Math.random()*(e-t)+t},e.prototype.update=function(t){var e=this.fgRangeRand(-this._strength_x,this._strength_x),o=this.fgRangeRand(-this._strength_y,this._strength_y);this.getTarget().setPosition(e+this._initial_x,o+this._initial_y)},e.prototype.startWithTarget=function(t){cc.ActionInterval.prototype.startWithTarget.apply(this,arguments),this._initial_x=t.x,this._initial_y=t.y},e.prototype.stop=function(){this.getTarget().setPosition(new cc.Vec2(this._initial_x,this._initial_y)),cc.ActionInterval.prototype.stop.apply(this)},e=o=n([a],e)}(cc.ActionInterval);o.Shake=d,o.nameTemplateArray=["The Armor","My Arsenal","Annihilator ","Anomaly","Arbitrage","Team Arsenic","Alien","Abyss","Agitator","Agony","Agrippa","Albatross","Amaretto","Amazon","Ambush","Angon","Animus","Trink","Twitch","Username","Digital","Strong Position","Ultimate Guide","Courtesy flush","Philiprex","IHasAnkles","Iammodest","Iampatient","IamPhilip","DonkeyMilk","MindOfPhilip","Gamerdonkey","DrThoughtless","ItIsYeDonkey","Ph1l1p","Donkey Boy","Donkey Girl","Donkey Person","IHasArms","Total Donkey","The Gaming Donkey","Mr Game Donkey","Ms Game Donkey"],cc._RF.pop()},{}],DropCamera:[function(t,e,o){"use strict";cc._RF.push(e,"da36dqoc2xGFq9pYZy/XpWK","DropCamera");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,c=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dir=cc.v2(),e.actived=!1,e}return i(e,t),e.prototype.onLoad=function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},e.prototype.onKeyUp=function(t){switch(t.keyCode){case cc.macro.KEY.a||cc.macro.KEY.left:case cc.macro.KEY.d||cc.macro.KEY.right:this.dir.x=0;break;case cc.macro.KEY.w||cc.macro.KEY.up:case cc.macro.KEY.s||cc.macro.KEY.down:this.dir.y=0}this.actived=0!=this.dir.mag()},e.prototype.onKeyDown=function(t){switch(this.actived=!0,t.keyCode){case cc.macro.KEY.a||cc.macro.KEY.left||cc.macro.KEY.dpadLeft:this.dir.x=-1;break;case cc.macro.KEY.d||cc.macro.KEY.right||cc.macro.KEY.dpadRight:this.dir.x=1;break;case cc.macro.KEY.w||cc.macro.KEY.up||cc.macro.KEY.dpadUp:this.dir.y=1;break;case cc.macro.KEY.s||cc.macro.KEY.down||cc.macro.KEY.dpadDown:this.dir.y=-1}},e.prototype.lateUpdate=function(){if(this.actived){var t=cc.director.getDeltaTime();this.node.x+=this.dir.x*t*60,this.node.y+=this.dir.y*t*60}},e.prototype.onDestroy=function(){cc.systemEvent.targetOff(this)},e=n([a],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],ECS:[function(t,e,o){"use strict";cc._RF.push(e,"472faAU+TFNHrR1sqIKa24g","ECS");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Common/Watcher"),a=t("./MapCreator"),c=cc._decorator,s=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mag=600,e.grids=[],e}return i(e,t),e.prototype.start=function(){for(var t=this.getChildren(this.gridRoot),e=0;e<t.length;e++){var o=new d;o.node=t[e],o.worldPos=this.node.convertToNodeSpaceAR(o.node.convertToWorldSpaceAR(cc.Vec2.ZERO)),this.grids.push(o)}r.default.addEventListener(r.HexsnakeEvent.FirstInteraction,this,this.FirstInteraction)},e.prototype.FirstInteraction=function(){},e.prototype.getChildren=function(t){for(var e=[],o=0,i=t.children;o<i.length;o++){var n=i[o];e.push(n),n.childrenCount>0&&e.push.apply(e,this.getChildren(n))}return e},e.prototype.update=function(t){for(var e=0,o=this.grids.length;e<o;e++)this.distance(this.observer.position,this.grids[e].worldPos)<this.mag?this.grids[e].show||(this.grids[e].show=!0,this.gridRoot.addChild(this.grids[e].node),this.grids[e].node.position=this.grids[e].worldPos):this.grids[e].show&&(this.grids[e].show=!1,this.grids[e].node.removeFromParent());var i=a.pathItem.mapGrid;for(var n in i)this.distance(this.observer.position,i[n]._position)<this.mag?i[n].node&&!i[n].node.active&&(i[n].node.active=!0):i[n].node&&i[n].node.active&&(i[n].node.active=!1)},e.prototype.distance=function(t,e){var o=t.x-e.x,i=t.y-e.y;return Math.sqrt(o*o+i*i)},n([l(cc.Node)],e.prototype,"observer",void 0),n([l(cc.Node)],e.prototype,"gridRoot",void 0),n([l()],e.prototype,"mag",void 0),e=n([s],e)}(cc.Component);o.default=p;var d=function(){return function(){this.show=!0}}();cc._RF.pop()},{"../Common/Watcher":"Watcher","./MapCreator":"MapCreator"}],FollowCamera:[function(t,e,o){"use strict";cc._RF.push(e,"67db1wNke5Nx6sb4rNSdX30","FollowCamera");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./DefineData"),a=t("./Watcher"),c=cc._decorator,s=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e.smooth=2,e.shakeAct=null,e.next=cc.v2(),e}return i(e,t),e.prototype.start=function(){var t=this.getComponent(cc.Camera);a.default.addEventListener(a.HexsnakeEvent.FirstInteraction,this,function(){t.zoomRatio=.75,cc.tween(t).to(1,{zoomRatio:1},cc.easeBackOut()).start()}),this.shakeAct=r.Shake.create(.4,14,14),a.default.addEventListener(a.HexsnakeEvent.CameraShake,this,this.shake)},e.prototype.shake=function(){this.node.getNumberOfRunningActions()>0&&this.node.stopAction(this.shakeAct),this.node.runAction(this.shakeAct)},e.prototype.update=function(t){var e=this.node.parent.convertToNodeSpaceAR(this.target.convertToWorldSpaceAR(cc.Vec2.ZERO));this.node.position.lerp(e,t*this.smooth,this.next),this.node.position=this.next},n([l({type:cc.Node,tooltip:"\u8ffd\u8e2a\u7684\u8282\u70b9"})],e.prototype,"target",void 0),n([l({tooltip:"\u76f8\u673a\u79fb\u52a8\u5e73\u6ed1\u503c"})],e.prototype,"smooth",void 0),e=n([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./DefineData":"DefineData","./Watcher":"Watcher"}],GameController:[function(t,e,o){"use strict";cc._RF.push(e,"314d8R2jsJEfLgVxcg1EbvP","GameController");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Common/Playable"),a=t("../Common/Watcher"),c=cc._decorator,s=c.ccclass,l=c.property,p=function(){function t(){this.avatar=null,this.grid=null,this.tailPrefab=null,this.tailColor=cc.color()}return n([l({type:cc.SpriteFrame,tooltip:"\u5934\u50cf"})],t.prototype,"avatar",void 0),n([l({type:cc.SpriteFrame,tooltip:"\u683c\u5b50\u56fe"})],t.prototype,"grid",void 0),n([l({type:cc.Prefab,tooltip:"\u62d6\u5c3e\u9884\u8bbe \u53ef\u4ee5\u6302\u4e00\u4e9b\u7c92\u5b50\u6548\u679c"})],t.prototype,"tailPrefab",void 0),n([l({type:cc.Color,tooltip:"\u62d6\u5c3e\u586b\u5145\u8272"})],t.prototype,"tailColor",void 0),t=n([s("ActorInfo")],t)}();o.ActorInfo=p;var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.audioCache=[],e.actorConfig=[],e.gameTime=25,e.audioDict={},e}var o;return i(e,t),o=e,e.prototype.refreshKill=function(t){var e=this;this.kill.string="x"+t,this.killAniNode.active=!0,this.killAni.play("liansha"),this.killTip.node.scale=1,this.killTip.string=1==t?"First Blood":2==t?"double kill":3==t?"triple kill":4==t?"Super god":"God of war came",this.killTip.node.getNumberOfRunningActions()>0&&this.killTip.node.stopAllActions(),cc.tween(this.killTip.node).to(.7,{scale:0}).call(function(){e.killAniNode.active=!1}).start(),a.default.dispatch(a.HexsnakeEvent.CameraShake)},e.prototype.onLoad=function(){o.instance=this,cc.director.getCollisionManager().enabled=!0,this.killAniNode.active=!1},e.prototype.start=function(){r.default.INIT(),r.default.START();for(var t=0,e=this.audioCache;t<e.length;t++){var o=e[t];this.audioDict[o.name]=o}this.busyUI.active=!0,this.starPanel.active=!1},e.prototype.mapLoadProgress=function(t,e,o){this.progress.string=Math.floor(100*t/e)+"/100",this.tip.string=Math.floor(cc.director.getTotalTime()/1e3)%3==0?"Player Matching, Please Wait...":"Player Matching, Please Wait..",o&&(this.starPanel.active=!0,this.busyUI.active=!1,a.default.dispatch(a.HexsnakeEvent.PathGridLoaded))},e.playEffect=function(t,e){void 0===e&&(e=!1);var i=o.instance.audioDict[t];null!=i&&cc.audioEngine.playEffect(i,e)},e.prototype.onDestroy=function(){a.default.removeAllListener(this)},e.instance=null,n([l({type:[cc.AudioClip],tooltip:"\u97f3\u6548\u8d44\u6e90"})],e.prototype,"audioCache",void 0),n([l({type:[p]})],e.prototype,"actorConfig",void 0),n([l(cc.Node)],e.prototype,"busyUI",void 0),n([l(cc.Label)],e.prototype,"tip",void 0),n([l(cc.Label)],e.prototype,"progress",void 0),n([l(cc.Label)],e.prototype,"kill",void 0),n([l(cc.Node)],e.prototype,"killAniNode",void 0),n([l(cc.Animation)],e.prototype,"killAni",void 0),n([l(cc.Label)],e.prototype,"killTip",void 0),n([l(cc.Node)],e.prototype,"starPanel",void 0),n([l],e.prototype,"gameTime",void 0),e=o=n([s],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../Common/Playable":"Playable","../Common/Watcher":"Watcher"}],Joystick:[function(t,e,o){"use strict";cc._RF.push(e,"2ad43ByHqBLB5TRwj57S3Mz","Joystick");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,c=r.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onBegin=[],e.onMove=[],e.onEnd=[],e}return i(e,t),e.prototype.start=function(){this.joystick.active=!1,this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchBegin,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},e.prototype.onTouchBegin=function(t){this.joystick.active=!0,this.joystick.position=this.joystick.parent.convertToNodeSpaceAR(t.getLocation()),cc.Component.EventHandler.emitEvents(this.onBegin,t.getLocation())},e.prototype.onTouchMove=function(t){var e=this.joystick.convertToNodeSpaceAR(t.getLocation()),o=e.normalize();this.joypoint.position=o.mulSelf(Math.min(60,e.mag())),cc.Component.EventHandler.emitEvents(this.onMove,o)},e.prototype.onTouchEnd=function(t){this.joystick.active=!1,this.joypoint.position=cc.v2(),cc.Component.EventHandler.emitEvents(this.onEnd,t.getLocation())},n([c({type:[cc.Component.EventHandler],displayName:"\u6447\u6746\u5f00\u59cb\u4e8b\u4ef6"})],e.prototype,"onBegin",void 0),n([c({type:[cc.Component.EventHandler],displayName:"\u9065\u6746\u6ed1\u52a8\u4e8b\u4ef6"})],e.prototype,"onMove",void 0),n([c({type:[cc.Component.EventHandler],displayName:"\u9065\u6746\u7ed3\u675f\u4e8b\u4ef6"})],e.prototype,"onEnd",void 0),n([c(cc.Node)],e.prototype,"joystick",void 0),n([c(cc.Node)],e.prototype,"joypoint",void 0),e=n([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],MapCreator:[function(t,e,o){"use strict";cc._RF.push(e,"bd94ak9kTpNwaE2qvyaAdMi","MapCreator");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./GameController"),a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.player=null,e.gridPrefb=null,e.initGridCount=441,e.intervalFrame=.4,e.fadeInTime=0,e.gridDict={},e.createLayer=1,e.createDirIndex=0,e.createDir=[[1,0],[0,-1],[-1,0],[0,1]],e.createPos=[-2,1],e.gridSize=cc.v2(),e.initCreateCount=0,e.playerLast=cc.v2(),e.map={},e}var o;return i(e,t),o=e,e.prototype.createItem=function(t,e){Math.floor(t),Math.floor(e);return new p},e.prototype.doCreate=function(){var t=this.createPos[0]+this.createDir[this.createDirIndex][0],e=this.createPos[1]+this.createDir[this.createDirIndex][1];Math.max(Math.abs(t),Math.abs(e))>this.createLayer&&(this.createDirIndex=(this.createDirIndex+1)%4,t=this.createPos[0]+this.createDir[this.createDirIndex][0],e=this.createPos[1]+this.createDir[this.createDirIndex][1]),null!=this.gridDict[t]&&null!=this.gridDict[t][e]?(++this.createLayer,this.createPos[0]=-this.createLayer,this.createPos[1]=this.createLayer,this.createDirIndex=0):(this.createPos[0]=t,this.createPos[1]=e);var o=cc.instantiate(this.gridPrefb);this.node.addChild(o,void 0,"grid_"+this.createPos[0]+"_"+this.createPos[1]),o.x=this.createPos[0]*this.gridSize.x,o.y=this.createPos[1]*this.gridSize.y,null==this.gridDict[this.createPos[0]]&&(this.gridDict[this.createPos[0]]={}),this.gridDict[this.createPos[0]][this.createPos[1]]=o,o.opacity=0,cc.tween(o).to(this.fadeInTime,{opacity:255}).start()},e.prototype.toRealPos=function(t,e,i){t.x=e*(1.5*o.outerRadius),t.y=i*o.innerRadius},e.prototype.initMap=function(){},e.prototype.Footprinting=function(t,e,o){var i=this.getPathNode(t);return i.flag!=e&&(i.flag=e,i.node.opacity=0,i.state=0,cc.tween(i.node).to(.2,{opacity:127}).start(),o.push(i),!0)},e.prototype.getColsRows=function(t){var e=t.x+this.node.width/2,o=t.y+this.node.height/2,i=Math.floor(e/62),n=Math.floor(o/54);return null==this.map[i]&&(this.map[i]={}),[i,n]},e.prototype.getPathNode=function(t){var e=this.getColsRows(t),o=e[0],i=e[1],n=this.map[o][i];return null==n&&(n=new p,this.map[o][i]=n,n.node.x=62*o-this.node.width/2,n.node.y=54*i-this.node.height/2),n},e.prototype.onLoad=function(){p.init(null,this.node),console.time("createMapUseTime: "),this.createBg(),this.createPathGrid()},e.prototype.createBg=function(){for(var t=null,e=0;e<21;e++)for(var o=0;o<15;o++)(t=new cc.Node).addComponent(cc.Sprite).spriteFrame=this.bgSprf,this.groundRoot.addChild(t),t.width=368,t.height=477,t.x=368*e-3680,t.y=3339-477*o},e.prototype.createPathGrid=function(){for(var t=this,e=-this.node.width/2,o=0;o<84;o++)for(var i=134;i>=0;i--)p.reserve(0+2*o,1+2*i,e+92*o,53*i-3551),p.reserve(1+2*o,0+2*i,92*o-3818,53*i-3578);for(o=0;o<20;o++)this.schedule(function(){if(0==p.reserveItem.length)return t.unscheduleAllCallbacks(),void console.timeEnd("createMapUseTime: ");for(var e=0;e<100&&p.reserveItem.length>0;e++)for(;!p.Instance()&&p.reserveItem.length>0;)p.Instance()},0+1/60*o,cc.macro.REPEAT_FOREVER)},e.outerRadius=30.5,e.innerRadius=26.5,e.areaUnit=2.598076*o.outerRadius*o.outerRadius,e.corners=[[0,0,o.outerRadius],[o.innerRadius,0,.5*o.outerRadius],[o.innerRadius,0,-.5*o.outerRadius],[0,0,-o.outerRadius],[-o.innerRadius,0,-.5*o.outerRadius],[-o.innerRadius,0,.5*o.outerRadius]],n([s({type:cc.Node,displayName:"\u6839\u636e\u73a9\u5bb6\u4f4d\u7f6e\u5b9e\u65f6\u663e\u793a\u683c\u5b50"})],e.prototype,"player",void 0),n([s({type:cc.Prefab,tooltip:"\u5730\u56fe\u9884\u5236\u683c\u5b50"})],e.prototype,"gridPrefb",void 0),n([s({tooltip:"\u683c\u5b50\u6570\u91cf"})],e.prototype,"initGridCount",void 0),n([s({tooltip:"\u5916\u5708\u540e\u7eed\u751f\u4ea7\u95f4\u9694\u79d2"})],e.prototype,"intervalFrame",void 0),n([s({tooltip:"\u6de1\u5165\u65f6\u95f4, \u5f53\u4e3a0\u65f6 \u7acb\u5373\u663e\u793a"})],e.prototype,"fadeInTime",void 0),n([s({type:cc.SpriteFrame})],e.prototype,"bgSprf",void 0),n([s(cc.Node)],e.prototype,"groundRoot",void 0),e=o=n([c],e)}(cc.Component);o.default=l;var p=function(){function t(t){this.node=null,this.sprite=null,this.pNext=null,this.spliter=null,this.flag=-1,this.state=-1,this._xIndex=0,this._yIndex=0,this._name=t}return t.tryMap=function(e){var o=t.mapGrid[e];return null==o?null:(null==o.node&&t.InstanceImmediately(o),o)},t.init=function(e,o){void 0===o&&(o=null),t.pathNodePrefab=e,t.stage=o},t.Instance=function(){var e=t.reserveItem.pop();if(null!=e.node)return!1;var o=new cc.Node(e._name);o.group="static";var i=o.addComponent(cc.PolygonCollider);return i.tag=20,i.points=[cc.v2(-15.8,-26.7),cc.v2(15.5,-26.6),cc.v2(32,.3),cc.v2(15.75,26.95),cc.v2(-15.59,27),cc.v2(-31.9,.3)],e.node=o,t.stage.addChild(e.node),e.sprite=o.addComponent(cc.Sprite),o.width=66,o.height=58,e.node.position=e._position.clone(),r.default.instance.mapLoadProgress(t.sumPathNodeNum-t.reserveItem.length,t.sumPathNodeNum,0==t.reserveItem.length),!0},t.InstanceImmediately=function(e){if(null==e.node){var o=new cc.Node(e._name);o.group="static",o.width=66,o.height=58;var i=o.addComponent(cc.PolygonCollider);i.tag=20,i.points=[cc.v2(-15.8,-26.7),cc.v2(15.5,-26.6),cc.v2(32,.3),cc.v2(15.75,26.95),cc.v2(-15.59,27),cc.v2(-31.9,.3)],e.node=o,t.stage.addChild(e.node),e.sprite=o.addComponent(cc.Sprite),e.node.position=e._position.clone()}},t.reserve=function(e,o,i,n){void 0===i&&(i=0),void 0===n&&(n=0);var r="p_"+e+"_"+o,a=new t(r);return t.mapGrid[r]=a,t.reserveItem.unshift(a),a._xIndex=e,a._yIndex=o,a._position=cc.v2(i,n),a},t.create=function(e,o,i,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var a="p_"+e+"_"+o,c=new t(a);this.mapGrid[a]=c,c._xIndex=e,c._yIndex=o;var s=new cc.Node(a);s.group="static",s.width=66,s.height=58;var l=s.addComponent(cc.Sprite),p=s.addComponent(cc.PolygonCollider);return p.tag=20,p.points=[cc.v2(-15.8,-26.7),cc.v2(15.5,-26.6),cc.v2(32,.3),cc.v2(15.75,26.95),cc.v2(-15.59,27),cc.v2(-31.9,.3)],c.node=s,i.addChild(c.node,void 0,a),c.sprite=l,c.node.x=n,c.node.y=r,c._position=c.node.position,c},t.mapGrid={},t.pathNodePrefab=null,t.stage=null,t.reserveItem=[],t.sumPathNodeNum=22950,t}();o.pathItem=p,cc._RF.pop()},{"./GameController":"GameController"}],MoneyRoll:[function(t,e,o){"use strict";cc._RF.push(e,"78641+Hsy5AtLoX1VjX357S","MoneyRoll");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./Watcher"),a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.curMoney=0,e.toFixed=0,e.duration=1,e.startMoney=0,e.nextMoney=0,e.rollRange=0,e.rollTm=0,e._label=null,e}return i(e,t),e.prototype.JumpTo=function(t){this.nextMoney=t,this.startMoney=this.curMoney,this.rollRange=t-this.startMoney},e.prototype.JumpBy=function(t){this.startMoney=this.curMoney,this.nextMoney=this.nextMoney+t,this.rollRange=this.nextMoney-this.startMoney},e.prototype.start=function(){this.curMoney=10,this._label=this.getComponent(cc.Label),r.default.addEventListener(r.default.JUMP_MONEY,this,this.JumpTo),r.default.addEventListener(r.default.ADDITION_MONEY,this,this.JumpBy)},e.prototype.update=function(t){this.curMoney!=this.nextMoney&&(this.rollTm=Math.min(1,this.rollTm+t),this.curMoney=this.startMoney+this.rollTm*this.rollRange/this.duration,1==this.rollTm&&(this.curMoney=this.nextMoney,this.rollTm=0),this._label.string=this.curMoney.toFixed(this.toFixed).toString())},n([s({tooltip:"\u5f53\u524d\u7684\u91d1\u5e01\u6570"})],e.prototype,"curMoney",void 0),n([s({tooltip:"\u4fdd\u7559\u51e0\u4f4d\u5c0f\u6570 0\u8868\u793a\u4e0d\u4fdd\u7559"})],e.prototype,"toFixed",void 0),n([s({tooltip:"\u8df3\u52a8\u7684\u65f6\u957f"})],e.prototype,"duration",void 0),e=n([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./Watcher":"Watcher"}],Move:[function(t,e,o){"use strict";cc._RF.push(e,"7b7cbTyCjxGNKp/iSw4kCZF","Move");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,c=r.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dir=cc.v2(0,1),e.speed=60,e.smooth=2,e._dir=null,e}return i(e,t),e.prototype.start=function(){this._dir=this.dir.clone()},e.prototype.update=function(t){this._dir.lerp(this.dir,t*this.smooth,this._dir),this._dir.normalizeSelf(),this.node.x+=t*this.speed*this._dir.x,this.node.y+=t*this.speed*this._dir.y,this.node.angle=180*Math.atan2(this._dir.y,this._dir.x)/Math.PI-90},n([c({type:cc.Vec2,tooltip:"\u65b9\u5411"})],e.prototype,"dir",void 0),n([c({tooltip:"\u901f\u5ea6"})],e.prototype,"speed",void 0),n([c({tooltip:"\u8f6c\u89d2\u5e73\u6ed1\u5ea6"})],e.prototype,"smooth",void 0),e=n([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],Playable:[function(t,e,o){"use strict";cc._RF.push(e,"5bdbbKysAlIIImpW6Lp1bxI","Playable"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./Watcher"),n=t("./Toolkit"),r=function(){function t(){}return t.clickContent="clickContent",t.enterSection="enterSection",t}();o.BuriedPointData=r;var a=function(){function t(){}return t.INIT=function(){if(!t._inited){t._inited=!0;try{var e=window.dapi;if(e){if(!e.isReady())return void e.addEventListener("ready",t.INIT);e.removeEventListener("ready",t.INIT);e.getAudioVolume();var o=function(t){console.log("isViewable "+t.isViewable),t.isViewable&&e.getScreenSize()};e.isViewable()&&o({isViewable:!0}),e.addEventListener("viewableChange",o),e.addEventListener("adResized",function(t){t,console.log("ad was resized width "+t.width+" height "+t.height)}),e.addEventListener("audioVolumeChange",function(t){})}if(window.gameStart=function(){},window.gameClose=function(){},window.gameRetry=function(){},window.playableSDK){var r=window.playableSDK,a=function(t){i.default.dispatch("VIEWABLE",t)},c=function(t){i.default.dispatch("VIEWABLE",t.viewable)};this.viewChangeCallBack=a,this.visibilityChangeCallBack=c,r.isViewable().then(a),r.addEventListener("visibilityChange",c)}n.Toolkit.log("playable init","#89DAF7","#000000")}catch(t){console.log(t)}try{window.mraid=window.mraid,null!=window.mraid&&t.onMraidSdkReady()}catch(t){console.log(t)}}},t.onMraidReady=function(){var e=window.mraid;0==t.mraidState&&"loading"===e.getState()&&(t.mraidState=!0,e.addEventListener("ready",t.onMraidSdkReady))},t.onMraidSdkReady=function(){window.mraid.addEventListener("viewableChange",function(t){i.default.dispatch("VIEWABLE",t),t?cc.game.isPaused()&&cc.game.resume():cc.game.isPaused()||cc.game.pause()})},t.START=function(){t._preloaded||(t._preloaded=!0,null!=window.playableSDK&&window.playableSDK.sendEvent("loadMainScene"),window.gameReady&&window.gameReady(),n.Toolkit.log("playable preload finish","#89DAF7","#000000"))},t.FAST_INTERACTION=function(){t._fastinteraction||(t._fastinteraction=!0,null!=window.playableSDK&&window.playableSDK.sendEvent("startPlayPlayable"))},t.ENTER_SECTION=function(t,e){null!=window.playableSDK&&window.playableSDK.sendEvent(t,e)},t.END=function(){try{n.Toolkit.log("playable end","#89DAF7","#000000"),window.gameEnd&&window.gameEnd(),window.playableSDK&&(window.playableSDK.sendEvent("finishPlayPlayable"),window.playableSDK.removeEventListener("visibilityChange",this.visibilityChangeCallBack))}catch(t){console.error("PLAYABLE.END => : "+t)}},t.ISAndroid=function(){return/android/i.test(navigator.userAgent)},t.INSTALL=function(){var e=t.ISAndroid()?this.downloadurl_android:this.downloadurl_ios;try{n.Toolkit.log("playable install","#89DAF7","#000000"),null!=window.playableSDK?window.playableSDK.openAppStore():null!=window.mraid?window.mraid.open(e):null!=window.install?window.install():void 0!==window.dapi?window.dapi.openStoreUrl():window.open(e)}catch(t){console.error("PLAYABLE.INSTALL => : "+t)}},t.downloadurl_ios="https://apps.apple.com/app/id1438597314",t.downloadurl_android="https://apps.apple.com/app/id1438597314",t._inited=!1,t._preloaded=!1,t._fastinteraction=!1,t.mraidState=!1,t}();o.default=a,cc._RF.pop()},{"./Toolkit":"Toolkit","./Watcher":"Watcher"}],Player:[function(t,e,o){"use strict";cc._RF.push(e,"7f7d8prmXtHNrmmvdAJzZxO","Player");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./Move"),a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.deltaXY=cc.v2(),e}return i(e,t),e.prototype.start=function(){this.deltaXY=this.move.dir},e.prototype.onFollowTarget=function(t){t.normalize(this.deltaXY),this.move.dir=this.deltaXY.normalize()},n([s({type:r.default})],e.prototype,"move",void 0),e=n([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./Move":"Move"}],Splixio:[function(t,e,o){"use strict";cc._RF.push(e,"82cbfEi6Z1LabebPCuNhfEJ","Splixio");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Common/DefineData"),a=t("../Common/Watcher"),c=t("./GameController"),s=t("./MapCreator"),l=t("./Player"),p=cc._decorator,d=p.ccclass,h=p.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.flag=0,e.tailVfx=null,e.preFullNode=[],e.realFullNode=[],e.isPlayer=!1,e.applyLock=!1,e.killCount=0,e.rankItem=null,e.nickNode=null,e.audioCtr=null,e}return i(e,t),e.prototype.start=function(){this.isPlayer=null!=this.getComponent(l.default),this.audioCtr=this.getComponent(cc.AudioSource),this.node.getChildByName("Direction").active=this.isPlayer,this.tailVfx.reset()},e.prototype.update=function(t){this.tail.position=this.node.position},e.prototype.onCollisionEnter=function(t,e){if(t.tag==r.ActorColliderTag.PathNode){var o=s.pathItem.tryMap(t.node.name);if(null!=o)if(-1==o.state)this.applyLock=!1,this.reserver(o);else{var i=o==this.preFullNode[0];!this.applyLock&&(i||1==o.state&&o.flag==this.flag)?(this.applyLock=!0,this.apply()):0==o.state&&o.flag!=this.flag?this.killOther(t,o):1==o.state&&o.flag!=this.flag?(o.spliter.replace(o),this.reserver(o)):o.flag!=this.flag&&(this.applyLock=!1)}}else t.tag==r.ActorColliderTag.Wall&&this.doDeath(null)},e.prototype.doDeath=function(t){for(var e=0,o=this.preFullNode;e<o.length;e++){(r=o[e]).spliter=null,r.state=-1,r.sprite.spriteFrame=null,r.node.opacity=0,r.flag=-1}for(var i=0,n=this.realFullNode;i<n.length;i++){var r;(r=n[i]).spliter=null,r.state=-1,r.sprite.spriteFrame=null,r.node.opacity=0,r.flag=-1}this.preFullNode=[],this.realFullNode=[],this.tailVfx.reset(),this.node.active=!1,a.default.dispatch(a.HexsnakeEvent.Death,this,t)},e.prototype.replace=function(t){var e=this.realFullNode.indexOf(t);-1!=e&&(this.realFullNode[e]=this.realFullNode.pop()),-1!=(e=this.preFullNode.indexOf(t))&&(this.preFullNode[e]=this.preFullNode.pop()),a.default.dispatch(a.HexsnakeEvent.SortRank,this)},e.prototype.reserver=function(t){if(this.realFullNode.length<6)return this.fill(t);this.isPlayer&&!this.audioCtr.isPlaying&&this.audioCtr.play(),this.preFullNode.push(t),t.spliter=this,t.state=0,t.sprite.spriteFrame=this.gridIcon,t.node.width=66,t.node.height=58,t.node.opacity=0,t.flag=this.flag,cc.tween(t.node).to(.4,{opacity:26}).start()},e.prototype.fill=function(t){this.realFullNode.push(t),t.spliter=this,t.state=1,t.sprite.spriteFrame=this.gridIcon,t.flag=this.flag,t.node.opacity=127,t.node.scale=.4,cc.tween(t.node).to(.4,{opacity:255,scale:1},cc.easeBounceOut()).start()},e.prototype.apply=function(){var t;this.tailVfx.reset();var e={},o=null;(t=this.preFullNode).push.apply(t,this.realFullNode);for(var i=0,n=this.preFullNode;i<n.length;i++){null==(o=e[(p=n[i])._yIndex])&&p.flag==this.flag?(e[p._yIndex]=[],e[p._yIndex].push(p),e[p._yIndex].push(p)):null!=o&&p.flag==this.flag&&(p._xIndex<o[0]._xIndex?o[0]=p:p._xIndex>o[1]._xIndex&&(o[1]=p))}for(var r in this.preFullNode.splice(0,this.preFullNode.length),e)for(var l=(o=e[r])[0]._xIndex;l<=o[1]._xIndex;l++){var p,d="p_"+l+"_"+o[0]._yIndex;null==(p=s.pathItem.tryMap(d))||0!=p.state&&this.flag==p.flag||this.fill(p)}a.default.dispatch(a.HexsnakeEvent.SortRank,this),this.isPlayer&&c.default.playEffect("_success")},e.prototype.killOther=function(t,e){++this.killCount,this.isPlayer&&(c.default.instance.refreshKill(this.killCount),c.default.playEffect("kill")),e.spliter.doDeath(this)},n([h({displayName:"\u5708\u5730\u7684\u6807\u8bb0"})],e.prototype,"flag",void 0),e=n([d],e)}(cc.Component);o.default=u;var f=function(){function t(){this.progress=0}return t.prototype.rank=function(t){this.name.fontSize=22-2*t},t.prototype.setSize=function(t){this.progress=t,this.size.string=(100*t).toFixed(2)+"%"},t}();o.RankItem=f,cc._RF.pop()},{"../Common/DefineData":"DefineData","../Common/Watcher":"Watcher","./GameController":"GameController","./MapCreator":"MapCreator","./Player":"Player"}],Toolkit:[function(t,e,o){"use strict";cc._RF.push(e,"45cf6r6dLJJ2L9Zff28r0jg","Toolkit"),Object.defineProperty(o,"__esModule",{value:!0}),function(t){function e(t,e){return e=e||0,Math.random()*(t-e)+e}function o(t,e,o){if(void 0===e&&(e="#000000"),void 0===o&&(o="#FFFFFF"),-1==e.indexOf("#"))switch(e){case"red":e="#FE0404";break;case"green":e="#00FB00";break;case"blue":e="#409EFA";break;case"yellow":e="#FFFF00";break;case"white":e="#FFFFFF";break;case"black":e="#000000";break;default:e="#FFFFFF"}if(-1==o.indexOf("#"))switch(o){case"red":o="#FE0404";break;case"green":o="#00FB00";break;case"blue":o="#409EFA";break;case"yellow":o="#FFFF00";break;case"white":o="#FFFFFF";break;case"black":o="#000000";break;default:o="#000000"}if(e==o)return console.error("The font color cannot be the same as the background color"),void console.log(t);console.log("%c"+t,"color:"+e+";background:"+o+";padding:3px 6px;")}function i(t){var e,o=new RegExp("(^| )"+t+"=([^;]*)(;|$)");return(e=document.cookie.match(o))?unescape(e[2]):null}t.RandomFloat=e,t.RandomInt=function(t,o){return Math.floor(e(t,o))},t.ptInparallelogram=function(t,e,o){var i=o[0],n=o[1],r=o[2],a=o[3],c=(n.x-i.x)*(e-i.y)-(n.y-i.y)*(t-i.x),s=(r.x-n.x)*(e-n.y)-(r.y-n.y)*(t-n.x),l=(a.x-r.x)*(e-r.y)-(a.y-r.y)*(t-r.x),p=(i.x-a.x)*(e-a.y)-(i.y-a.y)*(t-a.x);return c>0&&s>0&&l>0&&p>0||c<0&&s<0&&l<0&&p<0},t.ptInRect=function(t,e,o){return t>o.x&&t<o.x+o.width&&e>o.y&&e<o.y+o.height},t.intersects=function(t,e){return!(t.x+t.width<e.x||e.x+e.width<t.x||t.y+t.height<e.y||e.y+e.height<t.y)},t.Clamp=function(t,e,o){return t<e?e:t>o?o:t},t.log=o,t.log2=function(t,e,o){void 0===e&&(e="#5EE997"),void 0===o&&(o="#FFFFFF"),console.log("%c"+t,"color:"+e+";background:"+o+";")},t.logTrace=function(t){},t.logFailure=function(t){},t.lerp=function(t,e,o){return t+(e-t)*o},t.setCookie=function(t,e){var o=new Date;o.setTime(o.getTime()+2592e6),document.cookie=t+"="+escape(e)+";expires="+o.toUTCString()},t.getCookie=i,t.delCookie=function(t){var e=new Date;e.setTime(e.getTime()-1);var o=i(t);null!=o&&(document.cookie=t+"="+o+";expires="+e.toUTCString())}}(o.Toolkit||(o.Toolkit={})),cc._RF.pop()},{}],UIPanel:[function(t,e,o){"use strict";cc._RF.push(e,"a2fb3ugDlRH1rsJVwpNjxT8","UIPanel");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Common/CCUtils"),a=t("../Common/Joystick"),c=t("../Common/Playable"),s=t("../Common/Watcher"),l=t("./GameController"),p=t("./Move"),d=t("./Player"),h=t("./Splixio"),u=cc._decorator,f=u.ccclass,y=u.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._time=0,e}return i(e,t),e.prototype.start=function(){this.player.getComponent(p.default).enabled=!1,this.node.on(cc.Node.EventType.TOUCH_START,this.firstInteraction,this),this.killnotic.active=!1,this.endPanel.active=!1,this.timerNode.active=!1,this._time=l.default.instance.gameTime,this.gameTimeTip.string=this._time.toString(),this.gameTimeTip.node.active=!1,s.default.addEventListener(s.HexsnakeEvent.Death,this,this.onSnakeDeath)},e.prototype.gameOver=function(){var t=this.player.getComponent(h.default);t.node.active=!1,this.resurgencePanel.active||(c.default.END(),this.endPanel.active=!0,this.endPanel.scale=-.01,this.endPanel.opacity=0,cc.tween(this.endPanel).to(1,{scale:1,opacity:255},cc.easeBackOut()).start(),this.endInfo.string="area: "+t.rankItem.size.string+"\nkill: "+t.killCount)},e.prototype.downloadEvent=function(){c.default.INSTALL()},e.prototype.onSnakeDeath=function(t,e){var o=this;this.killnotic.getNumberOfRunningActions()>0?this.killnotic.stopAllActions():this.killnotic.active=!0,this.killnotic.opacity=255,this.target.string=t.nickNode.name,this.killer.string=e&&e.nickNode.name||"wall",cc.tween(this.killnotic).to(1,{opacity:0}).call(function(){o.killnotic.active=!1}).start(),t.isPlayer&&this.onPlayerDeath(t,e)},e.prototype.onPlayerDeath=function(t,e){l.default.playEffect("death"),setTimeout(function(){l.default.playEffect("fuhuo")},400),this.endPanel.active||(c.default.END(),this.gameInfo.string="area: "+t.rankItem.size.string+"\nkill: "+t.killCount,null!=e&&(this.beKiller.string=e.nickNode.name),this.resurgencePanel.active=!0,this.resurgencePanel.scale=-.01,this.resurgencePanel.opacity=0,cc.tween(this.resurgencePanel).to(1,{scale:1,opacity:255},cc.easeBackOut()).start())},e.prototype.firstInteraction=function(t){this.node.off(cc.Node.EventType.TOUCH_START,this.firstInteraction,this),s.default.dispatch(s.HexsnakeEvent.FirstInteraction),this.player.getComponent(p.default).enabled=!0,this.starPanel.removeFromParent();var e=r.CCUtils.RegistHandler(this.player.node,"Player","onFollowTarget");this.joystick.onBegin.push(e),this.joystick.onMove.push(e),this.schedule(this.gameTimer,1,cc.macro.REPEAT_FOREVER,0)},e.prototype.gameTimer=function(){--this._time,this._time<=0&&(this._time=0,this.unschedule(this.gameTimer),this.gameOver()),this._time<10?this.timerTip.string="00:0"+this._time:10==this._time&&(this.timerNode.active=!0,this.timerNode.opacity=0,this.timerTip.string="00:10",cc.tween(this.timerNode).to(.4,{x:0,opacity:255},cc.easeBackOut()).start(),l.default.playEffect("timer",!0),this.gameTimeTip.node.color=cc.Color.RED)},n([y({type:a.default})],e.prototype,"joystick",void 0),n([y({type:d.default})],e.prototype,"player",void 0),n([y(cc.Node)],e.prototype,"resurgencePanel",void 0),n([y(cc.Label)],e.prototype,"beKiller",void 0),n([y(cc.Label)],e.prototype,"gameInfo",void 0),n([y(cc.Node)],e.prototype,"killnotic",void 0),n([y(cc.Label)],e.prototype,"killer",void 0),n([y(cc.Label)],e.prototype,"target",void 0),n([y(cc.Node)],e.prototype,"starPanel",void 0),n([y(cc.Node)],e.prototype,"endPanel",void 0),n([y(cc.Label)],e.prototype,"endInfo",void 0),n([y(cc.Node)],e.prototype,"timerNode",void 0),n([y(cc.Label)],e.prototype,"timerTip",void 0),n([y(cc.Label)],e.prototype,"gameTimeTip",void 0),e=n([f],e)}(cc.Component);o.default=v,cc._RF.pop()},{"../Common/CCUtils":"CCUtils","../Common/Joystick":"Joystick","../Common/Playable":"Playable","../Common/Watcher":"Watcher","./GameController":"GameController","./Move":"Move","./Player":"Player","./Splixio":"Splixio"}],VideoTool:[function(t,e,o){"use strict";cc._RF.push(e,"5c454kM+KhFlaRoR6tfsruN","VideoTool");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,c=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.videoPlayer=null,e.isReaded=!1,e}return i(e,t),e.prototype.start=function(){this.videoPlayer=this.getComponent(cc.VideoPlayer),this.node.on("ready-to-play",this.onRead,this),this.node.on("touchstart",this.onTouchPlay,this)},e.prototype.onTouchPlay=function(){this.isReaded&&this.videoPlayer&&this.videoPlayer.play()},e.prototype.onRead=function(){this.isReaded=!0},e=n([a],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],ViewOrientation:[function(t,e,o){"use strict";cc._RF.push(e,"56082Df6WxLx6N8XY/iH/cP","ViewOrientation");var i=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r,a=t("./Watcher"),c=cc._decorator,s=c.ccclass;c.property;(function(t){t[t.LANDSCAPE=0]="LANDSCAPE",t[t.PORTRAIT=1]="PORTRAIT"})(r=o.EOrientation||(o.EOrientation={}));var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.canvas=null,e.canvasframe={min:0,max:0},e.oldOrientation=r.PORTRAIT,e}return i(e,t),e.prototype.start=function(){var t=this;this.canvas=cc.Canvas.instance;var e=this.canvas.designResolution;this.canvasframe.min=Math.min(e.width,e.height),this.canvasframe.max=Math.max(e.width,e.height),this.oldOrientation=e.width>e.height?r.LANDSCAPE:r.PORTRAIT,window.AdaptiveProc=function(){var e=window.innerWidth>window.innerHeight?r.LANDSCAPE:r.PORTRAIT,o=cc.view.getFrameSize();e==r.PORTRAIT&&e!=t.oldOrientation?(t.oldOrientation=e,cc.view.setOrientation(cc.macro.ORIENTATION_PORTRAIT),o.width>o.height&&cc.view.setFrameSize(o.height,o.width),t.canvas.designResolution=cc.size(t.canvasframe.min,t.canvasframe.max),a.default.dispatch(a.default.ON_VIEW_RESIZE,e)):e==r.LANDSCAPE&&e!=t.oldOrientation&&(t.oldOrientation=e,cc.view.setOrientation(cc.macro.ORIENTATION_LANDSCAPE),o.width<o.height&&cc.view.setFrameSize(o.height,o.width),t.canvas.designResolution=cc.size(t.canvasframe.max,t.canvasframe.min),a.default.dispatch(a.default.ON_VIEW_RESIZE,e))},cc.view.setResizeCallback(window.AdaptiveProc)},e=n([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./Watcher":"Watcher"}],Watcher:[function(t,e,o){"use strict";cc._RF.push(e,"bd9e1/rAl1DT6yUXdieIv5d","Watcher"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.addEventListener=function(e,o,i){void 0==t._handls[e]&&(t._handls[e]=[]),t._handls[e].push({caller:o,handl:i})},t.removeEvenetListener=function(e,o,i){if(void 0===i&&(i=void 0),void 0!=t._handls[e]){var n=t._handls[e];if(n instanceof Array)for(var r=0,a=n.length;r<a;r++){var c=n[r];c.caller!=o||void 0!=i&&i!=c.handl||(n[r]=n[a-1],n.pop())}}},t.removeAllListener=function(e){for(var o in t._handls)for(var i=t._handls[o],n=0,r=i.length;n<r;n++)i[n].caller==e&&(i[n]=i.pop())},t.dispatch=function(e){for(var o,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];if(void 0!=t._handls[e])for(var r=0,a=t._handls[e];r<a.length;r++){var c=a[r];(o=c.handl).call.apply(o,[c.caller].concat(i))}},t.ON_VIEW_RESIZE="ON_VIEW_RESIZE",t.JUMP_MONEY="JUMP_MONEY",t.ADDITION_MONEY="ADDITION_MONEY",t._handls={},t}();o.default=i,function(t){t.FirstInteraction="FirstInteraction",t.SortRank="SortRank",t.Death="Death",t.CameraShake="CameraShake",t.PathGridLoaded="PathGridLoaded"}(o.HexsnakeEvent||(o.HexsnakeEvent={})),cc._RF.pop()},{}]},{},["CCUtils","DefineData","DropCamera","FollowCamera","Joystick","MoneyRoll","Playable","Toolkit","VideoTool","ViewOrientation","Watcher","AI","AvatarContrl","ECS","GameController","MapCreator","Move","Player","Splixio","UIPanel"]);